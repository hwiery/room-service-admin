# ABC 숙소 예약 서비스 서비스 백오피스 상세 SOW - 2. 상품 관리

## 2.1. 숙소 관리

### 🔹 2.1.1. 숙소 목록 조회/수정

*   **화면 정보:**
    *   타이틀: 숙소 목록 관리
    *   설명: 등록된 전체 숙소 목록을 조회하고, 검색/필터링하며, 상태 변경 및 수정 페이지로 진입하는 화면
*   **기능 목적:** 등록된 숙소 현황 파악 및 관리 접근성 제공
*   **구성 요소:**
    *   **검색/필터 영역:**
        *   숙소 ID 입력 필드
        *   숙소명 입력 필드
        *   숙소 유형 선택 드롭다운 (2.2.1 연동)
        *   지역(시/도, 시/군/구) 선택 드롭다운
        *   숙소 상태 선택 드롭다운 (판매중, 판매중지, 삭제됨 등)
        *   등록일/수정일 기간 선택 (달력 UI)
        *   검색 버튼, 초기화 버튼
    *   **목록 테이블 영역:**
        *   체크박스 (일괄 처리용)
        *   숙소 ID (클릭 시 상세 수정 페이지 이동)
        *   숙소명 (클릭 시 상세 수정 페이지 이동)
        *   숙소 유형
        *   지역 (시/도, 시/군/구)
        *   대표 이미지 (썸네일)
        *   객실 수 (등록된 객실 개수)
        *   숙소 상태 (드롭다운 형태로 즉시 변경 가능 - 판매중/판매중지)
        *   등록일
        *   수정일
        *   관리 버튼 (수정, 삭제 - 논리적 삭제)
    *   **기능 버튼 영역:**
        *   숙소 등록 버튼 (2.1.2 페이지 이동)
        *   (선택적) 선택 항목 상태 일괄 변경 버튼 (판매중/판매중지)
        *   (선택적) 엑셀 다운로드 버튼
    *   **페이지네이션:** 목록 하단 페이지 이동 컴포넌트
*   **상태:**
    *   기본: 목록 조회 상태
    *   검색/필터링: 조건 입력 및 결과 반영 상태
    *   상태 변경: 특정 숙소 상태 변경 시 로딩 및 결과 반영 상태
*   **운영자 인터랙션:**
    *   검색 조건 입력 및 검색 버튼 클릭
    *   목록 테이블 컬럼 헤더 클릭 시 정렬 (기본: 등록일 내림차순)
    *   숙소 ID 또는 숙소명 클릭 시 해당 숙소 상세 수정 페이지(2.1.2와 유사한 폼)로 이동
    *   숙소 상태 드롭다운 선택하여 상태 변경
    *   관리 버튼(수정/삭제) 클릭
    *   숙소 등록 버튼 클릭
    *   페이지네이션 클릭
*   **결과 액션:**
    *   검색/필터링 조건에 맞는 숙소 목록 출력
    *   상태 변경 시 DB 업데이트 및 화면 반영 (성공/실패 알림)
    *   수정 클릭 시 상세 수정 페이지 로드
    *   삭제 클릭 시 확인 모달 후 논리적 삭제 처리 및 목록 갱신
    *   숙소 등록 버튼 클릭 시 등록 페이지(2.1.2)로 이동
*   **예외 처리:**
    *   검색 결과 없을 시 "검색 결과가 없습니다." 메시지 출력
    *   상태 변경/삭제 실패 시 에러 메시지 알림
    *   잘못된 접근 시 권한 없음 알림

### 🔹 2.1.2. 숙소 등록 (및 상세 수정)

*   **화면 정보:**
    *   타이틀: 숙소 등록 / 숙소 정보 수정
    *   설명: 신규 숙소를 등록하거나 기존 숙소의 상세 정보를 수정하는 화면 (탭 구조 활용 가능)
*   **기능 목적:** 숙소의 모든 정보를 생성하고 관리
*   **구성 요소 (탭 구조 예시):**
    *   **1) 기본 정보 탭:**
        *   숙소 ID (수정 시 노출, Readonly)
        *   숙소명 입력 필드 (필수)
        *   숙소 유형 선택 드롭다운 (2.2.1 연동, 필수)
        *   숙소 상태 선택 드롭다운 (판매중/판매중지 등, 필수)
        *   지역 선택 (시/도, 시/군/구 드롭다운, 필수)
        *   상세 주소 입력 필드 (필수)
        *   (선택적) 주소 검색 버튼 (API 연동)
        *   (선택적) 위도/경도 입력 필드 (주소 검색 시 자동 입력 또는 수동 입력)
        *   숙소 설명 입력 (Text Editor 사용)
        *   연락처 입력 필드
        *   테마 태그 선택 (2.2.2 연동, 다중 선택 가능 UI - 체크박스, 멀티셀렉트 등)
        *   카테고리 선택 (2.2.3 연동, 다중 선택 가능 UI)
    *   **2) 이미지 관리 탭 (2.1.4 상세 내용):**
        *   숙소 대표 이미지 업로드/미리보기/삭제 영역 (단일)
        *   숙소 추가 이미지 업로드/미리보기/삭제/순서변경 영역 (다중, Drag&Drop 지원)
    *   **3) 객실 관리 탭 (2.1.3 상세 내용):**
        *   등록된 객실 목록 테이블 (객실명, 상태, 기본가, 재고 요약 등)
        *   객실 추가 버튼 (신규 객실 등록 폼 모달 또는 페이지 이동)
        *   객실 수정/삭제 버튼
    *   **4) 편의시설/정책/공지 탭 (2.1.5 상세 내용):**
        *   편의시설 선택 (2.3.1 연동, 다중 선택 UI)
        *   편의시설 추가 설명 입력 (Text Editor)
        *   취소/환불 규정 선택 드롭다운 (2.3.2 연동)
        *   숙소 정책 입력 (Text Editor)
        *   숙소 이용 정보 입력 (Text Editor)
        *   숙소 공지사항 목록 및 추가/수정/삭제 기능
    *   **하단 고정 버튼 영역:**
        *   저장 버튼
        *   취소/목록으로 버튼
*   **상태:**
    *   입력 대기 / 입력 중 / 유효성 검사 오류 상태
    *   저장 중 / 저장 완료 / 저장 실패 상태
*   **운영자 인터랙션:**
    *   각 탭을 이동하며 정보 입력/수정
    *   드롭다운 선택, 텍스트 입력, Text Editor 사용, 이미지 업로드/관리
    *   객실 추가/수정/삭제 액션
    *   편의시설/규정 선택
    *   공지사항 관리
    *   저장/취소 버튼 클릭
*   **결과 액션:**
    *   저장 버튼 클릭 시 유효성 검사 수행.
    *   검사 통과 시 모든 탭의 정보 DB에 저장/업데이트.
    *   저장 성공 시 "저장되었습니다." 알림 후 목록(2.1.1) 페이지로 이동 또는 현재 페이지 유지(수정 시).
    *   저장 실패 시 에러 메시지 알림.
    *   취소/목록으로 버튼 클릭 시 변경사항 저장 여부 확인 후 목록 페이지로 이동.
*   **예외 처리:**
    *   필수 입력 필드 누락 시 저장 불가 및 해당 필드에 오류 표시.
    *   입력 형식 오류(숫자 필드에 문자 등) 시 오류 표시.
    *   이미지 업로드 실패(형식, 용량) 시 알림.
    *   객실 정보 등 하위 정보 저장 오류 시 롤백 또는 부분 저장 정책 필요.

### 🔹 2.1.3. 객실 관리 (숙소 등록/수정 화면 내 탭 또는 별도 페이지)

*   **화면 정보:**
    *   타이틀: 객실 관리 (for [숙소명])
    *   설명: 특정 숙소에 속한 객실 목록을 관리하고, 객실 상세 정보를 등록/수정하는 화면
*   **기능 목적:** 숙소 내 객실 단위의 정보, 가격, 재고 관리
*   **구성 요소:**
    *   **객실 목록 테이블 (숙소 상세 내 탭인 경우):** (2.1.2 구성 요소 참조)
    *   **객실 등록/수정 폼 (모달 또는 페이지):**
        *   객실 ID (수정 시 노출, Readonly)
        *   객실명 입력 필드 (필수)
        *   객실 상태 선택 드롭다운 (판매중/판매중지 등, 필수)
        *   **기본 정보:**
            *   침대 정보 (타입 선택, 개수 입력)
            *   객실 크기 (숫자 입력, 단위 M2 고정)
            *   객실 뷰 입력 필드
            *   기준 인원 / 최대 인원 입력 필드 (숫자, 필수)
            *   체크인/체크아웃 시간 (숙소 기본값 사용 체크박스 또는 시간 직접 입력)
            *   조식 포함 여부 선택 (미포함/포함 - 조건 입력 필드 활성화)
        *   **이미지 관리:** (2.1.4 와 유사 - 객실 대표/추가 이미지)
        *   **가격 설정:**
            *   기본 원화 가격 입력 필드 (필수, 숫자)
            *   (고급) 기간별 가격 설정 섹션 (시작일, 종료일, 요일, 원화 가격 입력 - 추가/삭제 가능 리스트 형태)
            *   (고급) 할인 설정 섹션 (할인 유형(%, 정액), 값, 적용 기간 입력 - 추가/삭제 가능 리스트 형태)
        *   **재고 관리:**
            *   총 객실 수 입력 필드 (숫자)
            *   (고급) 날짜별 재고 설정 인터페이스 (달력 형태 UI 에서 날짜별 재고 수량 직접 입력/수정 - 외부 연동 시 Readonly)
        *   **취소/환불 규정:**
            *   숙소 기본 규정 사용 체크박스 또는 개별 규정 선택 드롭다운 (2.3.2 연동)
            *   무료 취소 가능 기한 설정 (체크인 기준 D일 전 HH:MM 까지 형식)
        *   **객실 편의시설:** (2.3.1 연동, 다중 선택 UI)
        *   **하단 버튼:** 저장, 취소
*   **상태:** 입력 대기/입력 중/오류, 저장 중/완료/실패
*   **운영자 인터랙션:** 객실 정보 입력/수정, 가격/재고/규정 설정, 이미지 관리, 저장/취소
*   **결과 액션:** 저장 시 유효성 검사 후 DB 저장/업데이트. 객실 목록 갱신.
*   **예외 처리:** 필수 필드 누락, 숫자/날짜 형식 오류, 기간 중복(가격/할인), 재고 < 0 등 유효성 검사 및 오류 알림.

### 🔹 2.1.4. 이미지 관리 (숙소/객실 등록/수정 화면 내)

*   **화면 정보:** (별도 페이지가 아닌 컴포넌트 형태)
    *   타이틀: 이미지 관리
    *   설명: 숙소 또는 객실의 대표/추가 이미지를 관리하는 UI 영역
*   **기능 목적:** 시각적 정보인 이미지 등록 및 관리
*   **구성 요소:**
    *   **대표 이미지 영역:**
        *   이미지 업로드 버튼 (+)
        *   업로드된 이미지 미리보기 영역
        *   삭제 버튼 (x)
        *   권장 사이즈/용량 안내 텍스트
    *   **추가 이미지 영역:**
        *   이미지 업로드 버튼 (+)
        *   업로드된 이미지 목록 (썸네일 형태, 스크롤 가능)
            *   각 이미지별 삭제 버튼 (x)
            *   (구현 방식) 드래그 앤 드롭으로 순서 변경 기능
            *   (구현 방식) 순서 변경 버튼 (위/아래)
        *   최대 개수 제한 안내 텍스트
*   **상태:** 이미지 없음 / 이미지 있음 / 업로드 중 / 업로드 실패
*   **운영자 인터랙션:** 업로드 버튼 클릭 및 파일 선택, 삭제 버튼 클릭, 순서 변경(드래그 또는 버튼)
*   **결과 액션:** 이미지 파일 서버 업로드 및 경로 DB 저장. 미리보기 업데이트. 순서 정보 DB 저장.
*   **예외 처리:** 파일 형식 제한(jpg, png 등), 파일 용량 제한 초과 시 업로드 불가 및 알림. 최대 업로드 개수 초과 시 알림. 업로드 중 네트워크 오류 등 실패 알림.

### 🔹 2.1.5. 편의시설/정책/공지 관리 (숙소 등록/수정 화면 내)

*   **화면 정보:** (별도 페이지가 아닌 탭 또는 섹션 형태)
    *   타이틀: 부가 정보 관리
    *   설명: 숙소의 편의시설, 정책, 공지 등 추가 정보를 관리하는 영역
*   **기능 목적:** 숙소 선택에 영향을 미치는 상세 정보 제공 및 관리
*   **구성 요소:**
    *   **편의시설:**
        *   '편의시설 선택' 버튼 또는 영역 (클릭 시 2.3.1 코드 목록 모달 출력)
        *   선택된 편의시설 태그 목록 표시 (삭제 가능)
        *   편의시설 추가 설명 입력 (Text Editor)
    *   **취소/환불 규정:**
        *   규정 선택 드롭다운 (2.3.2 에서 등록된 규정 목록)
    *   **숙소 정책:**
        *   정책 내용 입력 (Text Editor)
    *   **숙소 이용 정보:**
        *   이용 정보 내용 입력 (Text Editor)
    *   **숙소 공지사항:**
        *   공지사항 목록 테이블 (제목, 게시 상태, 게시일, 관리 버튼)
        *   '공지 추가' 버튼 (공지 등록/수정 폼 모달 또는 페이지 이동)
            *   공지 등록/수정 폼: 제목, 내용(Text Editor), 게시 상태(게시/숨김), 게시 시작일/종료일(선택), 저장/취소 버튼
*   **상태:** 정보 입력/수정 상태, 공지사항 CRUD 상태
*   **운영자 인터랙션:** 편의시설 선택/해제, 규정 선택, Text Editor 내용 입력, 공지사항 추가/수정/삭제
*   **결과 액션:** 선택/입력된 정보가 숙소 데이터와 함께 DB 저장/업데이트. 공지사항 CRUD 결과 반영.
*   **예외 처리:** Text Editor 내용 유효성(악성 스크립트 방지 등), 공지사항 필수 필드 누락 시 저장 불가.

---

## 2.2. 상품 분류 관리

### 🔹 2.2.1. 숙소 유형 관리

*   **화면 정보:**
    *   타이틀: 숙소 유형 관리
    *   설명: 서비스에서 사용할 숙소 유형(호텔, 펜션 등)을 관리하는 화면
*   **기능 목적:** 숙소 분류 기준 정의 및 관리
*   **구성 요소:**
    *   **유형 목록 테이블:**
        *   유형 ID (내부 코드)
        *   유형명
        *   노출 순서 (숫자 입력 필드 또는 Drag&Drop)
        *   활성 상태 (토글 스위치 또는 Y/N 드롭다운)
        *   등록일
        *   관리 버튼 (수정, 삭제 - 사용 중인 유형 삭제 제한 필요)
    *   **기능 버튼 영역:**
        *   '신규 유형 추가' 버튼 (하단 입력 폼 또는 모달)
        *   '순서 저장' 버튼 (순서 변경 시 활성화)
    *   **(선택적) 신규 유형 추가/수정 폼:**
        *   유형명 입력 필드 (필수)
        *   노출 순서 입력 필드 (숫자)
        *   활성 상태 선택
        *   저장/취소 버튼
*   **상태:** 목록 조회, 추가/수정 입력, 순서 변경 중
*   **운영자 인터랙션:** 목록 조회, 추가 버튼 클릭, 정보 입력/수정, 순서 변경, 상태 변경, 저장/삭제
*   **결과 액션:** DB에 유형 정보 저장/업데이트/삭제. 순서 변경 시 순서값 업데이트. 상태 변경 시 활성 여부 업데이트. 숙소 등록/수정 화면의 '숙소 유형' 드롭다운 목록에 즉시 반영(활성 상태만).
*   **예외 처리:** 필수 필드(유형명) 누락 시 저장 불가. 유형명 중복 시 저장 불가. 사용 중인 유형 삭제 시도 시 경고 및 삭제 불가 처리.

### 🔹 2.2.2. 테마 관리

*   **화면 정보:**
    *   타이틀: 테마 관리
    *   설명: 숙소 특징을 나타내는 테마(바다뷰, 산림욕 등) 관리 화면
*   **기능 목적:** 테마 기반 숙소 추천 및 검색 필터링 기준 정의
*   **구성 요소:**
    *   **테마 목록 테이블:**
        *   테마 ID
        *   테마명
        *   대표 이미지 (썸네일)
        *   테마 설명 (일부 미리보기)
        *   노출 순서 (숫자 입력 필드 또는 Drag&Drop)
        *   활성 상태 (토글 스위치 또는 Y/N 드롭다운)
        *   등록일
        *   관리 버튼 (수정, 삭제 - 사용 중인 테마 삭제 제한 필요)
    *   **기능 버튼 영역:**
        *   '신규 테마 추가' 버튼
        *   '순서 저장' 버튼
    *   **(선택적) 신규 테마 추가/수정 폼:**
        *   테마명 입력 필드 (필수)
        *   대표 이미지 업로드 (필수)
        *   테마 설명 입력 (Textarea)
        *   노출 순서 입력 필드
        *   활성 상태 선택
        *   저장/취소 버튼
*   **상태:** 목록 조회, 추가/수정 입력, 순서 변경 중
*   **운영자 인터랙션:** 목록 조회, 추가 버튼 클릭, 정보 입력/수정/이미지 업로드, 순서 변경, 상태 변경, 저장/삭제
*   **결과 액션:** DB에 테마 정보 저장/업데이트/삭제. 순서 및 상태 업데이트. 숙소 등록/수정 화면의 '테마 태그' 선택 UI에 반영(활성 상태만). 메인 페이지 '테마별 여행지' 영역 구성에 활용됨.
*   **예외 처리:** 필수 필드(테마명, 대표 이미지) 누락 시 저장 불가. 테마명 중복 불가. 이미지 업로드 실패 처리. 사용 중인 테마 삭제 제한.

### 🔹 2.2.3. 카테고리 관리

*   **화면 정보:**
    *   타이틀: 카테고리 관리
    *   설명: 숙소의 부가 서비스/특징(투어, 음식 등)을 나타내는 카테고리 관리 화면
*   **기능 목적:** 검색 결과 상세 필터링 기준 정의
*   **구성 요소:** (2.2.1 숙소 유형 관리와 매우 유사)
    *   **카테고리 목록 테이블:** ID, 카테고리명, 노출 순서, 활성 상태, 등록일, 관리 버튼
    *   **기능 버튼 영역:** 추가, 순서 저장
    *   **(선택적) 추가/수정 폼:** 카테고리명, 노출 순서, 활성 상태, 저장/취소
*   **상태:** 목록 조회, 추가/수정 입력, 순서 변경 중
*   **운영자 인터랙션:** 목록 조회, 추가 버튼 클릭, 정보 입력/수정, 순서 변경, 상태 변경, 저장/삭제
*   **결과 액션:** DB에 카테고리 정보 저장/업데이트/삭제. 순서 및 상태 업데이트. 숙소 등록/수정 화면의 '카테고리' 선택 UI 및 검색 결과 필터 목록에 반영(활성 상태만).
*   **예외 처리:** 필수 필드(카테고리명) 누락, 중복 불가, 사용 중 삭제 제한.

---

## 2.3. 상품 부가 정보 관리

### 🔹 2.3.1. 편의시설 코드 관리

*   **화면 정보:**
    *   타이틀: 편의시설 코드 관리
    *   설명: 숙소/객실에 공통으로 적용될 편의시설 항목 관리 화면
*   **기능 목적:** 편의시설 정보의 표준화 및 관리 용이성 확보
*   **구성 요소:**
    *   **편의시설 목록 테이블:**
        *   시설 ID (내부 코드)
        *   시설명
        *   아이콘 (이미지 또는 Font Awesome 클래스명)
        *   카테고리 (드롭다운 - 객실 내, 공용, 서비스 등 구분)
        *   노출 순서
        *   활성 상태
        *   등록일
        *   관리 버튼 (수정, 삭제 - 사용 중 삭제 제한)
    *   **기능 버튼 영역:** 추가, 순서 저장
    *   **(선택적) 추가/수정 폼:**
        *   시설명 (필수)
        *   아이콘 업로드 또는 클래스명 입력
        *   카테고리 선택
        *   노출 순서
        *   활성 상태
        *   저장/취소
*   **상태:** 목록 조회, 추가/수정 입력, 순서 변경 중
*   **운영자 인터랙션:** 목록 조회, 추가, 정보 입력/수정/아이콘 관리, 카테고리 선택, 순서 변경, 상태 변경, 저장/삭제
*   **결과 액션:** DB에 편의시설 코드 정보 저장/업데이트/삭제. 숙소/객실 등록/수정 화면의 '편의시설 선택' UI에 반영(활성 상태만).
*   **예외 처리:** 필수 필드(시설명) 누락, 중복 불가, 사용 중 삭제 제한.

### 🔹 2.3.2. 취소/환불 규정 관리

*   **화면 정보:**
    *   타이틀: 취소/환불 규정 관리
    *   설명: 숙소/객실에 적용될 공통 취소/환불 규정 템플릿 관리 화면
*   **기능 목적:** 다양한 취소/환불 정책 생성 및 관리
*   **구성 요소:**
    *   **규정 목록 테이블:**
        *   규정 ID
        *   규정명 (예: 기본 규정, 성수기 규정)
        *   활성 상태
        *   등록일
        *   관리 버튼 (수정, 삭제 - 사용 중 삭제 제한)
    *   **기능 버튼 영역:** '신규 규정 추가' 버튼
    *   **신규 규정 추가/수정 폼 (상세 페이지 또는 모달):**
        *   규정명 입력 필드 (필수)
        *   규정 유형 선택 (필요시)
        *   활성 상태 선택
        *   **기간별 수수료율 설정 영역 (동적 추가/삭제 가능 리스트):**
            *   [ ] 일 전 [ ] 시 기준 ~ [ ] 일 전 [ ] 시 기준 : 수수료 [ ] % (또는 환불 불가 선택)
            *   (예시 UI) 체크인 [ 7 ] 일 전 [ 23 ] 시 [ 59 ] 분 까지 : 수수료 [ 0 ] %
            *   (예시 UI) 체크인 [ 3 ] 일 전 [ 00 ] 시 [ 00 ] 분 부터 ~ 체크인 [ 1 ] 일 전 [ 23 ] 시 [ 59 ] 분 까지 : 수수료 [ 50 ] %
            *   (예시 UI) 체크인 [ 1 ] 일 전 [ 00 ] 시 [ 00 ] 분 부터 : [ 환불 불가 ]
            *   '+ 조건 추가' 버튼, 각 조건별 '-' 삭제 버튼
        *   저장/취소 버튼
*   **상태:** 목록 조회, 추가/수정 입력, 수수료 조건 설정 중
*   **운영자 인터랙션:** 목록 조회, 추가, 정보 입력/수정, 수수료 조건 추가/삭제/값 입력, 상태 변경, 저장/삭제
*   **결과 액션:** DB에 취소/환불 규정 정보 저장/업데이트/삭제. 숙소/객실 등록/수정 화면의 '취소/환불 규정 선택' 드롭다운에 반영(활성 상태만). 실제 예약 취소 시 해당 규정 로직 적용됨.
*   **예외 처리:** 필수 필드(규정명) 누락, 수수료 조건 미설정 또는 기간 중복/누락 시 저장 불가 유효성 검사. 사용 중인 규정 삭제 제한.
